{%- comment -%}
VIP CTA Section
A seção destaca o Grupo VIP com descrição, lista de benefícios e um botão chamativo.
Todos os textos e benefícios são editáveis via painel.
{%- endcomment -%}

{%- assign start_color = section.settings.bg_gradient_start | default: '#111111' -%}
{%- assign end_color = section.settings.bg_gradient_end | default: '#1c1c1c' -%}
{%- assign bg_angle = section.settings.bg_angle | default: 135 -%}
{%- assign accent_color = section.settings.accent_color | default: '#FFD700' -%}

<section id="vip-cta" class="vip-cta-section"
  style="background: linear-gradient({{ bg_angle }}deg, {{ start_color }} 0%, {{ end_color }} 100%); --vip-accent-color: {{ accent_color }};">
  <div class="vip-cta-container page-width">
    <div class="vip-cta-content">
      <header class="vip-cta-header">
        {%- if section.settings.subheading != blank -%}
        <p class="vip-cta-subtitle">{{ section.settings.subheading }}</p>
        {%- endif -%}
        <h2 class="vip-cta-title">{{ section.settings.heading | default: 'Faça parte do Grupo VIP' }}</h2>
        {%- if section.settings.header_image != blank -%}
        <div class="vip-cta-header-image">
          <img src="{{ section.settings.header_image | image_url: width: 600 }}"
            alt="{{ section.settings.header_image.alt | default: section.settings.heading }}"
            width="{{ section.settings.header_image.width }}" height="{{ section.settings.header_image.height }}"
            loading="lazy">
        </div>
        {%- endif -%}
        {%- if section.settings.description != blank -%}
        <div class="vip-cta-description">{{ section.settings.description }}</div>
        {%- endif -%}
      </header>

      {%- if section.blocks.size > 0 -%}
      <ul class="vip-cta-benefits" role="list">
        {%- for block in section.blocks -%}
        {%- if block.type == 'benefit' -%}
        <li class="vip-cta-benefit{% if block.settings.image != blank %} vip-cta-benefit--has-image{% endif %}" {{
          block.shopify_attributes }}>
          {%- if block.settings.image != blank -%}
          <div class="vip-cta-benefit-image">
            <img src="{{ block.settings.image | image_url: width: 200 }}"
              alt="{{ block.settings.image.alt | default: block.settings.title }}"
              width="{{ block.settings.image.width }}" height="{{ block.settings.image.height }}" loading="lazy">
          </div>
          {%- endif -%}
          <span class="vip-cta-benefit-icon" aria-hidden="true">
            {%- case block.settings.icon -%}
            {%- when 'star' -%}{% render 'icon-star' %}
            {%- when 'heart' -%}{% render 'icon-heart' %}
            {%- when 'fire' -%}{% render 'icon-fire' %}
            {%- when 'globe' -%}{% render 'icon-globe' %}
            {%- when 'thunder' -%}{% render 'icon-thunder' %}
            {%- when 'checkmark' -%}{% render 'icon-checkmark' %}
            {%- when 'shield' -%}{% render 'icon-shield-check' %}
            {%- when 'cashback' -%}{% render 'icon-cashback' %}
            {%- when 'gift' -%}{% render 'icon-cart-gift' %}
            {%- when 'discount' -%}{% render 'icon-discount' %}
            {%- else -%}{% render 'icon-star' %}
            {%- endcase -%}
          </span>
          <div class="vip-cta-benefit-texts">
            {%- if block.settings.title != blank -%}
            <h3 class="vip-cta-benefit-title">{{ block.settings.title }}</h3>
            {%- endif -%}
            {%- if block.settings.text != blank -%}
            <p class="vip-cta-benefit-text">{{ block.settings.text }}</p>
            {%- endif -%}
          </div>
        </li>
        {%- endif -%}
        {%- endfor -%}
      </ul>
      {%- endif -%}

      {%- liquid
      assign btn1_text = section.settings.button_primary_text
      assign btn1_link = section.settings.button_primary_link
      assign btn2_text = section.settings.button_secondary_text
      assign btn2_link = section.settings.button_secondary_link
      -%}

      {%- if btn1_text != blank or btn2_text != blank -%}
      <div class="vip-button-wrapper vip-cta-buttons">
        {%- if btn1_text != blank and btn1_link != blank -%}
        <a href="{{ btn1_link }}" class="vip-button vip-button--outline" aria-label="{{ btn1_text }}">
          <span class="vip-button-text">{{ btn1_text }}</span>
        </a>
        {%- endif -%}

        {%- if btn2_text != blank -%}
        <a href="{{ btn2_link | default: '#' }}" class="vip-button vip-button--cta-shiny" aria-label="{{ btn2_text }}">
          {%- if section.settings.show_icon -%}
          <span class="vip-icon">{% render 'icon-star' %}</span>
          {%- endif -%}
          <span class="vip-button-text">{{ btn2_text }}</span>
        </a>
        {%- endif -%}
        <p id="vip-button-description" class="visually-hidden">Botão para participar do Grupo VIP com benefícios
          exclusivos.</p>
      </div>
      {%- endif -%}
    </div>
  </div>
</section>

{% schema %}
{
"name": "CTA Grupo VIP",
"tag": "section",
"class": "section",
"settings": [
{
"type": "header",
"content": "Cabeçalho"
},
{
"type": "text",
"id": "heading",
"label": "Título",
"default": "Faça parte do Grupo VIP"
},
{
"type": "text",
"id": "subheading",
"label": "Subtítulo",
"default": "Benefícios exclusivos para membros"
},
{
"type": "image_picker",
"id": "header_image",
"label": "Imagem do cabeçalho",
"info": "Imagem centralizada exibida abaixo do título"
},
{
"type": "richtext",
"id": "description",
"label": "Descrição do grupo VIP",
"default": "<p>Junte-se ao nosso Grupo VIP e tenha acesso a ofertas exclusivas.</p>"
},
{
"type": "header",
"content": "Aparência"
},
{
"type": "color",
"id": "accent_color",
"label": "Cor de destaque",
"default": "#FFD700",
"info": "Aplicada em ícones, textos de destaque e botões"
},
{
"type": "color",
"id": "bg_gradient_start",
"label": "Cor de fundo (início)",
"default": "#0f0f0f"
},
{
"type": "color",
"id": "bg_gradient_end",
"label": "Cor de fundo (fim)",
"default": "#1c1c1c"
},
{
"type": "range",
"id": "bg_angle",
"label": "Ângulo do gradiente",
"min": 0,
"max": 360,
"step": 5,
"default": 135
},
{
"type": "header",
"content": "Botão Primário (Outline)"
},
{
"type": "text",
"id": "button_primary_text",
"label": "Texto do botão",
"info": "Deixe vazio para ocultar o botão"
},
{
"type": "url",
"id": "button_primary_link",
"label": "Link do botão"
},
{
"type": "header",
"content": "Botão Secundário (Solid)"
},
{
"type": "text",
"id": "button_secondary_text",
"label": "Texto do botão",
"default": "Faça parte do Grupo VIP",
"info": "Deixe vazio para ocultar o botão"
},
{
"type": "url",
"id": "button_secondary_link",
"label": "Link do botão"
},
{
"type": "checkbox",
"id": "show_icon",
"label": "Mostrar ícone no botão secundário",
"default": true
},
{
"type": "header",
"content": "Modal VIP"
},
{
"type": "text",
"id": "modal_title",
"label": "Título do modal",
"default": "Grupo VIP"
},
{
"type": "text",
"id": "modal_subtitle",
"label": "Subtítulo do modal",
"default": "Desbloqueie benefícios exclusivos para membros VIP"
},
{
"type": "text",
"id": "submit_text",
"label": "Texto do botão de envio",
"default": "Quero participar"
},
{
"type": "text",
"id": "success_message",
"label": "Mensagem de sucesso",
"default": "Cadastro realizado com sucesso! Você será redirecionado em alguns segundos..."
}
],
"blocks": [
{
"type": "benefit",
"name": "Benefício",
"settings": [
{
"type": "image_picker",
"id": "image",
"label": "Imagem do benefício",
"info": "Imagem centralizada exibida acima do título"
},
{
"type": "select",
"id": "icon",
"label": "Ícone",
"default": "star",
"options": [
{"value": "star", "label": "Estrela"},
{"value": "heart", "label": "Coração"},
{"value": "fire", "label": "Fogo"},
{"value": "globe", "label": "Globo"},
{"value": "thunder", "label": "Raio"},
{"value": "checkmark", "label": "Check"},
{"value": "shield", "label": "Escudo"},
{"value": "cashback", "label": "Cashback"},
{"value": "gift", "label": "Presente"},
{"value": "discount", "label": "Desconto"}
]
},
{
"type": "text",
"id": "title",
"label": "Título do benefício",
"default": "Acesso antecipado a lançamentos"
},
{
"type": "textarea",
"id": "text",
"label": "Descrição do benefício",
"default": "Seja o primeiro a conhecer nossos novos produtos e conteúdos."
}
]
}
],
"presets": [
{
"name": "CTA Grupo VIP",
"category": "Seções personalizadas",
"blocks": [
{"type": "benefit"},
{"type": "benefit"},
{"type": "benefit"}
]
}
]
}
{% endschema %}
